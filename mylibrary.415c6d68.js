var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequire6149;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequire6149=o);var a=o("2ySY5"),i=o("dARph"),r=o("kLGAr");o("fb9GJ");const s=document.querySelector(".movies"),c=document.querySelector('[data-id="watched-btn"'),l=document.querySelector('[data-id="queue-btn"'),d=(document.querySelector(".header-nav__link--current-header"),new(0,r.localStorageAPI));function u(e){const t=e.target.closest("li").dataset.id;if("UL"!==e.target.nodeName)try{console.log("onWatchedMovieCardClick is running");const e=d.getData("watched"),n=d.getData("genresList"),o=e.filter((({id:e})=>e===Number(t)))[0],{genre_ids:a}=o;let r;a&&(r=n.filter((({id:e})=>a.includes(e))).map((({name:e})=>e))),o.genres=r,console.log(o,"film"),console.log(e,"movies"),d.setData("current-film",o),(0,i.modalBasicLightbox)(o),d.addListenersToBtns()}catch(e){console.log(e.message)}}function g(e){const t=e.target.closest("li").dataset.id;if("UL"!==e.target.nodeName)try{console.log("onQueueMovieCardClick is running");const e=d.getData("queue"),n=d.getData("genresList"),o=e.filter((({id:e})=>e===Number(t)))[0],{genre_ids:a}=o;let r;a&&(r=n.filter((({id:e})=>a.includes(e))).map((({name:e})=>e))),o.genres=r,console.log(o,"film"),console.log(e,"movies"),d.setData("current-film",o),(0,i.modalBasicLightbox)(o),d.addListenersToBtns()}catch(e){console.log(e.message)}}c.addEventListener("click",(function(){if(s.removeEventListener("click",g),c.classList.contains("is-active"))return;const e=d.getData("watched"),t=(0,a.createMovieCards)(e);s.innerHTML=t,s.addEventListener("click",u)})),l.addEventListener("click",(function(){if(s.removeEventListener("click",u),!c.classList.contains("is-active"))return;const e=d.getData("queue"),t=(0,a.createMovieCards)(e);s.innerHTML=t,s.addEventListener("click",g)})),function(){console.log("is running");const e=d.getData("watched"),t=(0,a.createMovieCards)(e);s.innerHTML=t,s.addEventListener("click",u)}(),o("1VOaQ"),o("ioBS9"),o("04jNI"),o("82jod");var m=o("25RCP"),f=o("fQ3Fn"),p=o("amyG6");const v=(0,m.initializeApp)({apiKey:"AIzaSyCI5JTbKtHIHNuS4WcbgMfz2S8WxJp_ehM",authDomain:"filmoteka-proj-7.firebaseapp.com",databaseURL:"https://filmoteka-proj-7-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"filmoteka-proj-7",storageBucket:"filmoteka-proj-7.appspot.com",messagingSenderId:"181528100082",appId:"1:181528100082:web:031dd9add36023a4e5e46b",measurementId:"G-1X27T2N03L"}),L=((0,f.getDatabase)(v),(0,p.getAuth)()),h=document.querySelector("#logout-ml"),b=document.querySelector(".welcome-ml");let y,k;(0,p.onAuthStateChanged)(L,(e=>{e?(y=e.uid,k=e.email,console.log("current user = ",k),h.classList.remove("visually-hidden"),b.innerHTML=`Welcome, ${k}!`):(console.log("Не авторизован"),h.classList.add("visually-hidden"))})),h.addEventListener("click",(function(){(0,p.signOut)(L).then((()=>{k=null,window.location.reload()})).catch((e=>{console.log(e)}))}));
//# sourceMappingURL=mylibrary.415c6d68.js.map
