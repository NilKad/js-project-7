!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequire6149;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequire6149=a);var i=a("aTzrc"),o=a("g2YN6"),r=a("6fJbC");a("1VFfL");var c=document.querySelector(".movies"),s=document.querySelector('[data-id="watched-btn"'),l=document.querySelector('[data-id="queue-btn"'),d=(document.querySelector(".header-nav__link--current-header"),new(0,r.localStorageAPI));function u(e){var t=e.target.closest("li").dataset.id;if("UL"!==e.target.nodeName)try{console.log("onWatchedMovieCardClick is running");var n,a=d.getData("watched"),i=d.getData("genresList"),r=a.filter((function(e){return e.id===Number(t)}))[0],c=r.genre_ids;c&&(n=i.filter((function(e){var t=e.id;return c.includes(t)})).map((function(e){return e.name}))),r.genres=n,console.log(r,"film"),console.log(a,"movies"),d.setData("current-film",r),(0,o.modalBasicLightbox)(r),d.addListenersToBtns()}catch(e){console.log(e.message)}}function f(e){var t=e.target.closest("li").dataset.id;if("UL"!==e.target.nodeName)try{console.log("onQueueMovieCardClick is running");var n,a=d.getData("queue"),i=d.getData("genresList"),r=a.filter((function(e){return e.id===Number(t)}))[0],c=r.genre_ids;c&&(n=i.filter((function(e){var t=e.id;return c.includes(t)})).map((function(e){return e.name}))),r.genres=n,console.log(r,"film"),console.log(a,"movies"),d.setData("current-film",r),(0,o.modalBasicLightbox)(r),d.addListenersToBtns()}catch(e){console.log(e.message)}}s.addEventListener("click",(function(){if(c.removeEventListener("click",f),s.classList.contains("is-active"))return;var e=d.getData("watched"),t=(0,i.createMovieCards)(e);c.innerHTML=t,c.addEventListener("click",u)})),l.addEventListener("click",(function(){if(c.removeEventListener("click",u),!s.classList.contains("is-active"))return;var e=d.getData("queue"),t=(0,i.createMovieCards)(e);c.innerHTML=t,c.addEventListener("click",f)})),function(){console.log("is running");var e=d.getData("watched"),t=(0,i.createMovieCards)(e);c.innerHTML=t,c.addEventListener("click",u)}(),a("dsadE"),a("4smAb"),a("j1lrD"),a("4Hwvb");var g,m=a("6Urw1"),v=a("6Nu6u"),p=a("3SEMc"),L=(0,m.initializeApp)({apiKey:"AIzaSyCI5JTbKtHIHNuS4WcbgMfz2S8WxJp_ehM",authDomain:"filmoteka-proj-7.firebaseapp.com",databaseURL:"https://filmoteka-proj-7-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"filmoteka-proj-7",storageBucket:"filmoteka-proj-7.appspot.com",messagingSenderId:"181528100082",appId:"1:181528100082:web:031dd9add36023a4e5e46b",measurementId:"G-1X27T2N03L"}),h=((0,v.getDatabase)(L),(0,p.getAuth)()),b=document.querySelector("#logout-ml"),w=document.querySelector(".welcome-ml");(0,p.onAuthStateChanged)(h,(function(e){e?(e.uid,g=e.email,console.log("current user = ",g),b.classList.remove("visually-hidden"),w.innerHTML="Welcome, ".concat(g,"!")):(console.log("Не авторизован"),b.classList.add("visually-hidden"))})),b.addEventListener("click",(function(){(0,p.signOut)(h).then((function(){g=null,window.location.reload()})).catch((function(e){console.log(e)}))}))}();
//# sourceMappingURL=mylibrary.28af4131.js.map
